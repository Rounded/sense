(function(e,t){e.app={}})(window,$),function(e,t,n){n.fn={article:function(){var e=arguments[0].charAt(0);return e=="A"||e=="a"||e=="E"||e=="e"||e=="I"||e=="i"||e=="O"||e=="o"||e=="U"||e=="u"?"An ":"A "}}}(window,$,window.app||{}),function(e,t,n){n.Item=function(t){var n=t||{};this.container=n.container||!1,this.comprisedOf=n.comprisedOf||[],this.combineWith=n.combineWith||[],this.visual_secret_threshold=n.visual_secret_threshold||0,this.descriptor=n.descriptor,this.sights=n.sights,this.sounds=n.sounds,this.getting=n.getting,this.containedItems=n.containedItems,this.dropping=n.dropping,this.feels=n.feels},n.Item.prototype={getDescriptor:function(){return typeof this.descriptor!="undefined"?n.fn.article(this.descriptor)+this.descriptor:"It has no name"},look:function(e,t){return playerPerception=e||0,roomAmbientLight=t||0,roomAmbientLight*playerPerception>this.visual_secret_threshold?typeof this.descriptor!="undefined"?this.sights||"It looks like a "+this.descriptor+", nothing more":this.sights||"You are not quite sure what it is":"Unable to see the details"},touch:function(){return this.feels||"It feels like "+n.fn.article(this.descriptor)+this.descriptor},listen:function(){return this.sounds||"The "+this.descriptor+"isn't emmitting any sounds."},combine:function(e){},disassemble:function(){},take:function(){return this.getting||"Try as you might you cannot take the "+this.descriptor},search:function(){if(this.container){if(this.containedItems){var e="You find:\n";for(var t=0;t<this.containedItems.length;t++)e+="You find "+article(this.descriptor)+this.containedItems[t]+"\n";return e}return"You grope around in the "+this.descriptor+", but find nothing. Disapoint."}return"The "+this.descriptor+" isn't a container."},drop:function(){return this.dropping||"You toss the "+this.descriptor+" to the side"}}}(window,$,window.app||{}),function(e,t,n){n.Player=function(t,n){this.inventory=n||[],this.playerName=t.playerName||"Anonymous",this.perception=t.perception||0},n.Player.prototype={addItem:function(e){return this.inventory.push(e),this.inventory},hasItem:function(e){for(var t=0;t<this.inventory.length;t++)return e===this.inventory[t].descriptor?!0:!1}}}(window,$,window.app||{}),function(e,t,n){n.Weapon=function(t){this.weapon="yes."},n.Weapon.prototype=new n.Item,n.Weapon.prototype.swing=function(){}}(window,$,window.app||{}),function(e,t,n){n.Room=function(t){var n=t||{};this.visual_secret_threshold=n.visual_secret_threshold||0,this.ambientLight=n.ambientLight||0,this.discoveredItems=n.discoveredItems||[],this.hiddenItems=n.hiddenItems||[],this.descriptor=n.descriptor,this.sights=n.sights},n.Room.prototype=new n.Item,n.Room.prototype={look:function(e){var t=e||0;return this.ambientLight*t>this.visual_secret_threshold?this.sights||"It's Just four walls, a floor, and ceiling":"It's black as night"},revealItem:function(e){return this.discoveredItems.push(e),this.discoveredItems},hasItem:function(e){for(var t=0;t<this.discoveredItems.length;t++)return e===this.discoveredItems[t].descriptor?!0:!1}}}(window,$,window.app||{}),function(e,t,n){var r=new n.Item({descriptor:"flint",visual_secret_threshold:10}),i=new n.Item({descriptor:"puddle",container:!0,sights:"It looks deeper than expected. Perhaps it is hidding something in its depths.",containedItems:[r],sounds:"The only sounds are those of the liquid dripping into it."}),s=new n.Item({descriptor:"drawsting capris",sights:"You Look like an idiot wearing them."}),o=new n.Item({name:"Great Sword of Pain and Injustice",sights:"It's the most badass thing you have ever laid your eyes on!",sounds:"Tilting your ear toward it, you can almost hear the whispers and cries of those that fell before it",getting:"You're afraid the blade's power will overwhelm you."}),u=new n.Room({visual_secret_threshold:10,ambientLight:0,hiddenItems:[r,o],discoveredItems:[i],sights:"It appears to be a holding cell of sorts."}),a=new n.Player({playerName:"",perception:5},[o,s]);t(function(){var e=t("#readout-content"),n=t("#text-input"),r=t("#hidden-button"),i=function(e){var t=e,n=t.split(" "),r=n[0],i=n[1]||"room",s=u.discoveredItems;for(var o=0;o<s.length;o++){var a=s[o],f=a.descriptor;if(i.toLowerCase()===f.toLowerCase()){if(typeof a[r]=="function"){console.log(a[r]());return}return}}};n.focus(),n.on("keyup",function(e){if(e.keyCode===13){var n=t(this).val();i(n),this.value=""}})})}(window,$,window.app||{});